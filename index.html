<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SakhiTech â€“ Women Safety</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f3e8ff;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.card {
  background: white;
  padding: 20px;
  width: 360px;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(0,0,0,0.15);
  text-align: center;
}

.logo {
  width: 120px;
  margin-bottom: 10px;
}

h2 {
  color: #7c3aed;
}

.chat {
  border: 1px solid #ddd;
  height: 170px;
  padding: 10px;
  overflow-y: auto;
  margin: 10px 0;
  background: #faf5ff;
  border-radius: 8px;
  text-align: left;
}

input {
  width: 75%;
  padding: 6px;
}

button {
  padding: 6px 10px;
  background: #7c3aed;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.actions button {
  width: 100%;
  margin-top: 8px;
}

.sos {
  background: red;
  font-weight: bold;
}

.stop {
  background: black;
}

.helpline {
  font-size: 14px;
  margin-top: 10px;
  text-align: left;
}
</style>
</head>

<body>

<div class="card">
  <img src="./logo.png" class="logo" alt="Logo">

  <h2>SakhiTech</h2>
  <p>AI-Powered Women Safety Assistant</p>

  <div class="chat" id="chat">
    <p><b>AI:</b> Hello ğŸ’œ Iâ€™m SakhiTech. How can I help you?</p>
  </div>

  <input id="msg" placeholder="Type your concern..." />
  <button onclick="send()">Send</button>

  <div class="actions">
    <button onclick="getLocation()">ğŸ“ Share My Location</button>
    <button class="sos" onclick="sendSOS()">ğŸš¨ SOS Emergency</button>
    <button class="stop" onclick="stopSOS()">ğŸ›‘ Stop Alarm</button>
  </div>

  <div class="helpline">
    ğŸ“ Emergency Numbers:<br>
    Police: 112<br>
    Women Helpline: 181<br>
    Ambulance: 108
  </div>
</div>

<script>
let sosSound;

// CHAT
function send() {
  const chat = document.getElementById("chat");
  const input = document.getElementById("msg");
  const msg = input.value.trim();

  if (msg === "") return;

  chat.innerHTML += `<p><b>You:</b> ${msg}</p>`;

  let reply = "Iâ€™m listening. Please tell me more.";
  const text = msg.toLowerCase();

  if (text.includes("help") || text.includes("unsafe") || text.includes("scared")) {
    reply = "Iâ€™m here with you ğŸ’œ Press SOS ğŸš¨ if you feel in danger.";
  } else if (text.includes("alone")) {
    reply = "You are not alone. Would you like to share your location?";
  } else if (text.includes("follow") || text.includes("harass")) {
    reply = "Move to a safe, crowded place and contact emergency services.";
  } else if (text.includes("hello") || text.includes("hi")) {
    reply = "Hello ğŸ’œ How can I help you today?";
  }

  chat.innerHTML += `<p style="color:green;"><b>AI:</b> ${reply}</p>`;
  input.value = "";
  chat.scrollTop = chat.scrollHeight;
}

// LOCATION
function getLocation() {
  const chat = document.getElementById("chat");

  navigator.geolocation.getCurrentPosition(
    pos => {
      chat.innerHTML += `<p><b>You:</b> ğŸ“ Shared my location</p>`;
      chat.innerHTML += `
        <p style="color:green;">
          <b>AI:</b> Location received<br>
          Lat: ${pos.coords.latitude}<br>
          Long: ${pos.coords.longitude}
        </p>`;
      chat.scrollTop = chat.scrollHeight;
    },
    () => {
      chat.innerHTML += `<p style="color:red;"><b>AI:</b> Location denied.</p>`;
    }
  );
}

// SOS
function sendSOS() {
  sosSound = new Audio("sos.mp3");
  sosSound.loop = true;
  sosSound.play();

  const chat = document.getElementById("chat");
  chat.innerHTML += `<p style="color:red;"><b>AI:</b> ğŸš¨ SOS ACTIVATED!</p>`;
  chat.scrollTop = chat.scrollHeight;
}

// STOP SOS
function stopSOS() {
  if (sosSound) {
    sosSound.pause();
    sosSound.currentTime = 0;
  }
}
</script>

</body>
</html>
